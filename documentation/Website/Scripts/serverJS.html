<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Server.js Documentation</title>
</head>
<p>
<h1><a href="documentation.html">Back</a></h1>
<hr>
<h1>Server.js Documentation</h1>
<h2>app.get(String path, function(request, response)</h2>
<p style="max-width: 800px;">
    Checks if any connections are made or not. If not any connections are made
    it sends the client to the index page but if there already are connections
    the client is sent to the animation page instead.
</p>
<hr>
<h2>io.sockets.on('connection', function(socket))</h2>
<p style="max-width: 800px;">
    This function allows sockets to connect to the server as they are declared
    in animationPage.html and defined by io.connect function in the same page.
    All functions related to the sockets are included in this function as they
    are using the socket.io library. In this function the server also stores
    the clients currently connected to the server in an array.
</p>
<hr>
<h2>socket.on('disconnect', function ())</h2>
<p style="max-width: 800px;">
    This function disconnects sockets from the server as they have closed their
    browser and lost their connection. In this function the server also removes
    the client which was connected to the server from the connections array.
</p>
<hr>
<h2>socket.on('begin animation', function (data))</h2>
<p style="max-width: 800px;">
    This function emits the 'begin animation' message to all the sockets connected
    to the server allowing them to run the outputAnimation function.
</p>
<hr>
<h2>socket.on('arrow request', function (data))</h2>
<p style="max-width: 800px;">
    This function emits the 'arrow reply' message to all the sockets connected
    to the server allowing them to have distribution among processes and specific
    arrows.
</p>
<hr>
<h2>socket.on('new user', function (data, callback))</h2>
<p style="max-width: 800px;">
    This function assigns username to a new user joined the chat room. The user
    add the username and the function assigns it to the user's socket. It also
    stores all the chat users in the users array.
</p>
<hr>
<h2>socket.on('send message', function (data))</h2>
<p style="max-width: 800px;">
    This function emits the message that a user sent to all other clients(sockets)
    by providing the message data and the sender's username.
</p>
<hr>
<h2>stringifyArray(Array)</h2>
<p style="max-width: 800px;">
    This function gets an array as argument and then returns every element in that
    array as a string and between every element a comma is put.
</p>
</html>